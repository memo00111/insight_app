# ุชุญุฏูุซ API - Insight ุงูุชุทุจูู

## ุงููุฑุฌุน: ุงูุจุงู ุงูุฏ ุงูุฌุฏูุฏ โ
**ูุตุฏุฑ ุงูุจุงู ุงูุฏ**: [https://github.com/mohamed-alawy/new_reader](https://github.com/mohamed-alawy/new_reader)  
**ุนููุงู ุงูู API**: `https://fantastic-bassoon-g4457g4gv9w6cvpgp-8000.app.github.dev`

## ูุชุงุฆุฌ ุงุฎุชุจุงุฑ ุงูุชุทุงุจู ูุน ุงูุจุงู ุงูุฏ ๐งช

### โ **ูุนูู ุจุดูู ูุซุงูู:**
- **ุงูู endpoint ุงูุฑุฆูุณู**: ูุธูุฑ ุฌููุน ุงูุฎุฏูุงุช (Form Analyzer, Money Reader, Document Reader)
- **Health Check endpoints**: ุฌููุนูุง ุชุนูู `/health`, `/form/ping`, `/money/ping`, `/document/ping`
- **Money Reader**: `POST /money/analyze` - ูุชุทูุจ `file` โ
- **Document Reader**: `POST /document/upload` - ูุชุทูุจ `file` โ
- **Text-to-Speech**: `POST /text-to-speech` - ูุชุทูุจ `text` โ
- **Speech-to-Text**: `POST /speech-to-text` - ูุชุทูุจ `audio` โ

### โ๏ธ **ูุญุชุงุฌ ูุฑุงุฌุนุฉ:**
- **Form Analyzer endpoints**: ุชุธูุฑ ุฎุทุฃ 404
  - `POST /form/analyze` - ุบูุฑ ูุชุงุญ ุญุงููุงู
  - `POST /form/annotate` - ุบูุฑ ูุชุงุญ ุญุงููุงู

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ โ

### 1. ุชุตุญูุญ ุนููุงู ุงูู API
- **ูู**: `https://new-reader-gsd0.onrender.com`
- **ุฅูู**: `https://fantastic-bassoon-g4457g4gv9w6cvpgp-8000.app.github.dev`
- **ุงููููุงุช ุงููุญุฏุซุฉ**: `lib/utils/constants.dart`, `lib/services/insight_api_service.dart`

### 2. Money Reader - ุงูุชุญูู ูู ุงููุชุทูุจุงุช
- **ุงูุงุฎุชุจุงุฑ ุงูุฃููู**: ุงูุชุฑุญ ุงุณุชุฎุฏุงู `image`
- **ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู**: ูุชุทูุจ `file` (ุชู ุงูุชุตุญูุญ)
- **ุงูููุฏ ุงูููุงุฆู**:
```dart
FormData formData = FormData.fromMap({
  'file': await MultipartFile.fromFile(imagePath), // โ ุตุญูุญ
});
```

### 3. ุชุญุณูู Health Check Endpoints
- **ุฅุถุงูุฉ**: `checkDocumentReaderHealth()` ููุชุญูู ูู ุตุญุฉ ุฎุฏูุฉ ุงููุณุชูุฏุงุช
- **ุชุญุณูู**: ููุทู ุงูุชุญูู ูู ุงูุตุญุฉ ูุฌููุน ุงูุฎุฏูุงุช โ

### 4. ุฅูุดุงุก ููู ุงุฎุชุจุงุฑ ุงูุชุทุงุจู
- **ุฅุถุงูุฉ**: `test_new_backend.dart` โ
- **ุงูุบุฑุถ**: ุงุฎุชุจุงุฑ ุฌููุน endpoints ููุชุฃูุฏ ูู ุงูุชุทุงุจู
- **ุงููุชูุฌุฉ**: ุงูุชุดุงู ุงููุชุทูุจุงุช ุงูุตุญูุญุฉ ููู endpoint

## ุงูุฎุฏูุงุช ุงููุชููุฑุฉ (ูุญุฏุซุฉ ุจูุงุกู ุนูู ุงูุงุฎุชุจุงุฑ)

### 1. Money Reader (`/money`) โ **ูุคูุฏ ุงูุนูู**
- `POST /money/analyze` - ุชุญููู ุงูุนููุฉ
  - **ุงููุทููุจ**: `file` (ููู ุงูุตูุฑุฉ)

### 2. Document Reader (`/document`) โ **ูุคูุฏ ุงูุนูู**
- `POST /document/upload` - ุฑูุน ุงููุณุชูุฏ
  - **ุงููุทููุจ**: `file` (ุงูููู), `language` (ุงููุบุฉ)
- `GET /document/{sessionId}/page/{pageNumber}` - ุชุญููู ุตูุญุฉ ูุญุฏุฏุฉ
- `POST /document/{sessionId}/navigate` - ุงูุชููู ุงูุตูุชู
  - **ุงููุทููุจ**: `command` (ุงูุฃูุฑ), `current_page` (ุงูุตูุญุฉ ุงูุญุงููุฉ)
- `GET /document/{sessionId}/page/{pageNumber}/image` - ุตูุฑุฉ ุงูุตูุญุฉ
- `GET /document/{sessionId}/summary` - ููุฎุต ุงููุณุชูุฏ
- `DELETE /document/{sessionId}` - ุญุฐู ุงูุฌูุณุฉ

### 3. Shared Services (`/`) โ **ูุคูุฏ ุงูุนูู**
- `POST /text-to-speech` - ุชุญููู ุงููุต ุฅูู ููุงู
  - **ุงููุทููุจ**: `text` (ุงููุต), `provider` (ุงููุฒูุฏ)
- `POST /speech-to-text` - ุชุญููู ุงูููุงู ุฅูู ูุต
  - **ุงููุทููุจ**: `audio` (ููู ุงูุตูุช), `language_code` (ุฑูุฒ ุงููุบุฉ)

### 4. Health Check Endpoints โ **ูุคูุฏ ุงูุนูู**
- `GET /health` - ุงูุตุญุฉ ุงูุนุงูุฉ ูููุธุงู โ
- `GET /form/ping` - ุตุญุฉ ุฎุฏูุฉ ุชุญููู ุงูููุงุฐุฌ โ
- `GET /money/ping` - ุตุญุฉ ุฎุฏูุฉ ุชุญููู ุงูุนููุงุช โ
- `GET /document/ping` - ุตุญุฉ ุฎุฏูุฉ ูุฑุงุกุฉ ุงููุณุชูุฏุงุช โ

### 5. Form Analyzer (`/form`) โ๏ธ **ูุญุชุงุฌ ูุฑุงุฌุนุฉ**
- `POST /form/analyze` - ุชุญููู ุงููููุฐุฌ (ุฎุทุฃ 404)
- `POST /form/annotate` - ุฅุถุงูุฉ ุงูุชุนูููุงุช (ุฎุทุฃ 404)

## ุงุฎุชุจุงุฑ ุงูุชุทุงุจู ๐งช

### ุชุดุบูู ุงูุงุฎุชุจุงุฑ:
```bash
dart test_new_backend.dart
```

### ุงููุชุงุฆุฌ ุงููุชููุนุฉ:
- โ ุงูู endpoint ุงูุฑุฆูุณู: ูุธูุฑ ุฌููุน ุงูุฎุฏูุงุช
- โ Health endpoints: ุฌููุนูุง ุชุนูู
- โ Money Reader: ูุทูุจ `file`
- โ Document Reader: ูุทูุจ `file`
- โ ุงูุฎุฏูุงุช ุงููุดุชุฑูุฉ: ุชุทูุจ ุงูุจูุงูุงุช ุงููุทููุจุฉ
- โ Form Analyzer: ุฎุทุฃ 404 (ูุญุชุงุฌ ูุฑุงุฌุนุฉ ูู ุงูุจุงู ุงูุฏ)

## ูุชุงุฆุฌ ูุญุต ุงูููุฏ โ

```bash
flutter analyze --no-fatal-infos
```

- **127 ูุณุฃูุฉ**: ูููุง ุชุญุฐูุฑุงุช ุจุณูุทุฉ (info) + ุชุญุฐูุฑ ูุงุญุฏ (warning)
- **ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูุนููุฉ**: ุงูููุฏ ุณููู ููุนูู ุจุดูู ุตุญูุญ
- **ุงูุชุทุงุจู**: ุชู ุชุฃููุฏ ุงููุชุทูุจุงุช ุงูุตุญูุญุฉ ููู endpoint

## ููููุฉ ุงูุชุดุบูู

```bash
flutter pub get
flutter run
```

## ุงููููุงุช ุงููุญุฏุซุฉ ๐

1. **lib/services/insight_api_service.dart**:
   - ุชุฃููุฏ Money Reader ูุณุชุฎุฏู `file` (ุงูุตุญูุญ)
   - ุชุญุณูู Health Check endpoints
   - ุฅุถุงูุฉ `checkDocumentReaderHealth()`

2. **lib/utils/constants.dart**:
   - ุชุญุฏูุซ `baseUrl` ููู API ุงูุฌุฏูุฏ

3. **test_new_backend.dart** (ุฌุฏูุฏ):
   - ููู ุงุฎุชุจุงุฑ ุดุงูู ููุชุทุงุจู ูุน ุงูุจุงู ุงูุฏ
   - ุงูุชุดุงู ุงููุชุทูุจุงุช ุงูุตุญูุญุฉ ููู endpoint

## ุงูุชูุงูู ุงูููุงุฆู โ

- โ Money Analysis (ุชุญููู ุงูุนููุงุช) - **ูุคูุฏ ุงูุนูู**  
- โ Document Reading (ูุฑุงุกุฉ ุงููุณุชูุฏุงุช) - **ูุคูุฏ ุงูุนูู**
- โ Voice Navigation (ุงูุชููู ุงูุตูุชู) - **ูุคูุฏ ุงูุนูู**
- โ Text-to-Speech (ุงููุต ุฅูู ููุงู) - **ูุคูุฏ ุงูุนูู**
- โ Speech-to-Text (ุงูููุงู ุฅูู ูุต) - **ูุคูุฏ ุงูุนูู**
- โ Health Checks (ูุญุต ุงูุตุญุฉ) - **ูุคูุฏ ุงูุนูู**
- โ๏ธ Form Analysis (ุชุญููู ุงูููุงุฐุฌ) - **ูุญุชุงุฌ ูุฑุงุฌุนุฉ**

---
**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: ุงูููู  
**ุงูุญุงูุฉ**: ุฌุงูุฒ ููุงุณุชุฎุฏุงู (ูุน ููุงุญุธุฉ Form Analyzer) โ  
**ูุญุต ุงูููุฏ**: ูููุชูู โ  
**ุงุฎุชุจุงุฑ ุงูุชุทุงุจู**: ูููุชูู โ  
**ุงููุฑุฌุน**: [GitHub - new_reader](https://github.com/mohamed-alawy/new_reader)